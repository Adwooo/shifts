<!DOCTYPE html>
<html lang="en">
  <%= render 'layouts/head' %>

  <body>

    <%= render 'layouts/navbar' %>
    <div class='container'>
      <div id=<%= content_wrapper_id %>>

        <div id="flash">
          <%= render :partial => 'layouts/flash', :locals => {:flash => flash} %>
        </div>

        <!-- Main Content -->

        <% if show_title? %>
          <div class="page-header">
            <h1 id="page_title">
              <%= yield(:title) %>
              <small id="subtitle"><%= yield(:subtitle) %></small>
            </h1>
          </div>
        <% end %>
        <div class="row">
          <% if content_for?(:left_nav) %>
            <div class="col-md-2">
              <%= yield(:left_nav) %>
            </div>
          <% end %>
          <div class=<%= content_for?(:left_nav) ? "col-md-10" : "col-md-12" %>>
            <%= yield(:body).empty? ? yield : yield(:body) %>
          </div>
        </div>

        <!-- Body Content -->
        <%# TODO: We should not have any more content_for :body tags, we need to
        figure out how to use this properly, and fix the files with such tags %>
        <%= render 'layouts/footer' %>

      </div>

    </div> <!-- End pagebox container generated in main_header -->

    <div id="pageboxBottom"> <!-- do not remove -->
      <script type='text/javascript' charset='utf-8'>
        <%= yield(:javascript) %>
      </script>
    </div>

  </body>
</html>
