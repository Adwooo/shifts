<% form_for @app_config do |f| %>
  <%= f.error_messages %>
  <p>
    <%= f.label :footer %><br />
    <small>You can edit this footer with HTML.  Be careful to close your tags,
    or you may produce broken pages.</small><br/>
    <%= f.text_area :footer, {:class => "settings", :size => "80x10"} %>
  </p>
  <p>
    <%= f.label "Use LDAP?" %> <br />
    <%= f.check_box :use_ldap, {:id => "ldap_check_box"} %>
  </p>
  <div class="ldap_fields" <%unless @app_config.use_ldap%>id="hide"<%end%>>
  </p>
    <p>
    <%= f.label :ldap_host_address %> <br />
    <%= f.text_field :ldap_host_address %>
  </p>
  <p>
    <%= f.label :ldap_port %> <br />
    <%= f.text_field :ldap_port %>
  </p>
    <p>
    <%= f.label :ldap_base %> <br />
    <%= f.text_field :ldap_base %>
  </p>
  <p>
    <%= f.label :ldap_login %> <br />
    <%= f.text_field :ldap_login %>
  </p>
    <p>
    <%= f.label :ldap_first_name %> <br />
    <%= f.text_field :ldap_first_name %>
  </p>
  <p>
    <%= f.label :ldap_last_name %> <br />
    <%= f.text_field :ldap_last_name %>
  </p>
    <p>
    <%= f.label :ldap_email %> <br />
    <%= f.text_field :ldap_email %>
  </p>
  </div>

  <p><%= f.submit "Submit" %></p>
<% end %>

<script>
$('#hide').toggle();
$('#ldap_check_box').click(function () {
  $('.ldap_fields').toggle();
});
</script>

